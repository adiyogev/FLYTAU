<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLYTAU - העולם מחכה לך</title>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700;800;900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body class="index-page">

<header class="public-header">
    <div class="header-right">
        <img src="{{ url_for('static', filename='img/LOGO.png') }}" alt="FLYTAU" class="logo-img">
        <nav class="main-nav">
        </nav>
    </div>

   <div class="header-left">
        {% if session.get('role') == 'registered' %}
            <span class="welcome-text">שלום, <b>{{ user_name }}</b></span>
            <a href="/my_orders" class="auth-link my-orders-link">
                <i class="fas fa-ticket-alt"></i> ההזמנות שלי
            </a>
            <a href="/logout" class="auth-link logout-link">התנתק</a>
        {% else %}
            <a href="/login" class="auth-link">התחברות</a>
            <a href="/register" class="btn-register">הירשם</a>
            <a href="/track_order" class="auth-link teal-link">
                <i class="fas fa-search-location"></i> איתור הזמנה
            </a>
            <a href="/login_manager" class="manager-link">
                <i class="fas fa-user-tie"></i> כניסת מנהל
            </a>
        {% endif %}
    </div>
</header>

<div class="hero-section" style="background-image: linear-gradient(rgba(0, 27, 51, 0.4), rgba(0, 27, 51, 0.4)), url('{{ url_for('static', filename='img/FLYTAU_airplane.png') }}');">
    <div class="hero-content">
        <div class="hero-title">העולם מחכה לך</div>
        <div class="hero-subtitle">הזמינו טיסה בקלות ותיהנו מחוויה בלתי נשכחת</div>
    </div>
</div>

<div class="search-container">
    <div class="search-card">
        <form action="/search_flights" method="GET" class="search-form-grid">

            <div class="input-group">
                <span class="input-label">מוצא</span>
                <div class="input-field-wrapper">
                    <i class="fas fa-plane-departure icon-teal"></i>
                    <input type="text" id="origin-input" name="origin" list="routes-list" placeholder="מאיפה טסים?" required>
                </div>
            </div>

            <div class="input-group swap-group">
                <div class="input-label-spacer">&nbsp;</div>
                <div class="swap-wrapper">
                    <button type="button" class="swap-btn" id="swap-btn">
                        <i class="fas fa-exchange-alt"></i>
                    </button>
                </div>
            </div>

            <div class="input-group">
                <span class="input-label">יעד</span>
                <div class="input-field-wrapper">
                    <i class="fas fa-plane-arrival icon-teal"></i>
                    <input type="text" id="destination-input" name="destination" list="routes-list" placeholder="לאן תרצו לטוס?" required>
                </div>
            </div>

            <div class="input-group">
                <span class="input-label">תאריך המראה</span>
                <div class="input-field-wrapper">
                    <i class="far fa-calendar icon-teal"></i>
                    <input type="date" name="departure_date" id="departure_date" required>
                </div>
            </div>

            <div class="input-group">
                <span class="input-label">נוסעים</span>
                <div class="input-field-wrapper">
                    <i class="fas fa-users icon-teal"></i>
                    <input type="number" name="num_passengers" min="1" max="100" value="1" required>
                </div>
            </div>

            <div class="input-group submit-group">
                <div class="input-label-spacer">&nbsp;</div>
                <button type="submit" class="search-btn">
                    מצא טיסות <i class="fas fa-search"></i>
                </button>
            </div>

            <datalist id="routes-list">
                {% for city in available_routes %}
                    <option value="{{ city }}">
                {% endfor %}
            </datalist>
        </form>
    </div>
</div>

<footer>
    © 2026 FLYTAU - חברת התעופה שלכם. כל הזכויות שמורות.
</footer>

<script>
    const dateInput = document.getElementById('departure_date');
    const today = new Date().toISOString().split('T')[0];
    dateInput.min = today;

    const swapBtn = document.getElementById('swap-btn');
    const originInput = document.getElementById('origin-input');
    const destInput = document.getElementById('destination-input');

    swapBtn.addEventListener('click', function() {
        const temp = originInput.value;
        originInput.value = destInput.value;
        destInput.value = temp;

        this.style.transform = 'rotate(180deg)';
        setTimeout(() => {
             this.style.transform = 'rotate(0deg)';
        }, 300);
    });
</script>

</body>
</html>